(function(e,Q){typeof exports=="object"&&typeof module<"u"?module.exports=Q(require("vue"),require("element-plus"),require("axios"),require("pinyin-match")):typeof define=="function"&&define.amd?define(["vue","element-plus","axios","pinyin-match"],Q):(e=typeof globalThis<"u"?globalThis:e||self,e["ft-component"]=Q(e.Vue,e.ElementPlus,e.Axios,e.PinyinMatch))})(this,function(e,Q,Ie,Me){"use strict";const ke=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},Te=ke(Ie),ee=ke(Me);var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ee={exports:{}};(function(t,n){(function(o,a){t.exports=a()})(Fe,function(){function o(l){var V=[];return l.AMapUI&&V.push(a(l.AMapUI)),l.Loca&&V.push(i(l.Loca)),Promise.all(V)}function a(l){return new Promise(function(V,g){var D=[];if(l.plugins)for(var u=0;u<l.plugins.length;u+=1)c.AMapUI.plugins.indexOf(l.plugins[u])==-1&&D.push(l.plugins[u]);if(p.AMapUI===d.failed)g("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(p.AMapUI===d.notload){p.AMapUI=d.loading,c.AMapUI.version=l.version||c.AMapUI.version,u=c.AMapUI.version;var A=document.body||document.head,U=document.createElement("script");U.type="text/javascript",U.src="https://webapi.amap.com/ui/"+u+"/main.js",U.onerror=function(x){p.AMapUI=d.failed,g("\u8BF7\u6C42 AMapUI \u5931\u8D25")},U.onload=function(){if(p.AMapUI=d.loaded,D.length)window.AMapUI.loadUI(D,function(){for(var x=0,O=D.length;x<O;x++){var F=D[x].split("/").slice(-1)[0];window.AMapUI[F]=arguments[x]}for(V();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()});else for(V();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},A.appendChild(U)}else p.AMapUI===d.loaded?l.version&&l.version!==c.AMapUI.version?g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):D.length?window.AMapUI.loadUI(D,function(){for(var x=0,O=D.length;x<O;x++){var F=D[x].split("/").slice(-1)[0];window.AMapUI[F]=arguments[x]}V()}):V():l.version&&l.version!==c.AMapUI.version?g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):r.AMapUI.push(function(x){x?g(x):D.length?window.AMapUI.loadUI(D,function(){for(var O=0,F=D.length;O<F;O++){var R=D[O].split("/").slice(-1)[0];window.AMapUI[R]=arguments[O]}V()}):V()})})}function i(l){return new Promise(function(V,g){if(p.Loca===d.failed)g("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(p.Loca===d.notload){p.Loca=d.loading,c.Loca.version=l.version||c.Loca.version;var D=c.Loca.version,u=c.AMap.version.startsWith("2"),A=D.startsWith("2");if(u&&!A||!u&&A)g("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{u=c.key,A=document.body||document.head;var U=document.createElement("script");U.type="text/javascript",U.src="https://webapi.amap.com/loca?v="+D+"&key="+u,U.onerror=function(x){p.Loca=d.failed,g("\u8BF7\u6C42 AMapUI \u5931\u8D25")},U.onload=function(){for(p.Loca=d.loaded,V();r.Loca.length;)r.Loca.splice(0,1)[0]()},A.appendChild(U)}}else p.Loca===d.loaded?l.version&&l.version!==c.Loca.version?g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):V():l.version&&l.version!==c.Loca.version?g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):r.Loca.push(function(x){x?g(x):g()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var d;(function(l){l.notload="notload",l.loading="loading",l.loaded="loaded",l.failed="failed"})(d||(d={}));var c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:d.notload,AMapUI:d.notload,Loca:d.notload},r={AMap:[],AMapUI:[],Loca:[]},m=[],y=function(l){typeof l=="function"&&(p.AMap===d.loaded?l(window.AMap):m.push(l))};return{load:function(l){return new Promise(function(V,g){if(p.AMap==d.failed)g("");else if(p.AMap==d.notload){var D=l.key,u=l.version,A=l.plugins;D?(window.AMap&&location.host!=="lbs.amap.com"&&g("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),c.key=D,c.AMap.version=u||c.AMap.version,c.AMap.plugins=A||c.AMap.plugins,p.AMap=d.loading,u=document.body||document.head,window.___onAPILoaded=function(x){if(delete window.___onAPILoaded,x)p.AMap=d.failed,g(x);else for(p.AMap=d.loaded,o(l).then(function(){V(window.AMap)}).catch(g);m.length;)m.splice(0,1)[0]()},A=document.createElement("script"),A.type="text/javascript",A.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+c.AMap.version+"&key="+D+"&plugin="+c.AMap.plugins.join(","),A.onerror=function(x){p.AMap=d.failed,g(x)},u.appendChild(A)):g("\u8BF7\u586B\u5199key")}else if(p.AMap==d.loaded)if(l.key&&l.key!==c.key)g("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(l.version&&l.version!==c.AMap.version)g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(D=[],l.plugins)for(u=0;u<l.plugins.length;u+=1)c.AMap.plugins.indexOf(l.plugins[u])==-1&&D.push(l.plugins[u]);D.length?window.AMap.plugin(D,function(){o(l).then(function(){V(window.AMap)}).catch(g)}):o(l).then(function(){V(window.AMap)}).catch(g)}else if(l.key&&l.key!==c.key)g("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if(l.version&&l.version!==c.AMap.version)g("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var U=[];if(l.plugins)for(u=0;u<l.plugins.length;u+=1)c.AMap.plugins.indexOf(l.plugins[u])==-1&&U.push(l.plugins[u]);y(function(){U.length?window.AMap.plugin(U,function(){o(l).then(function(){V(window.AMap)}).catch(g)}):o(l).then(function(){V(window.AMap)}).catch(g)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:d.notload,AMapUI:d.notload,Loca:d.notload},r={AMap:[],AMapUI:[],Loca:[]}}}})})(Ee);const ze=Ee.exports,Ue=Object.prototype.toString;function we(t,n){return Ue.call(t)===`[object ${n}]`}function se(t){return t!=null}function Oe(t){return we(t,"String")}function ve(t){return t!==null&&we(t,"Object")}function Pe(t){return je(t)||Oe(t)?t.length===0:t instanceof Map||t instanceof Set?t.size===0:ve(t)?Object.keys(t).length===0:!1}function Re(t,n){const o=n.split(".");let a=t;return o.forEach(i=>{a=se(a)&&se(a[i])?a[i]:null}),a}const X=function(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))};function je(t){return t&&Array.isArray(t)}var Ce={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};t.default=n})(Ce);const He=Ve(Ce);var Ne={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n={name:"zh-cn",el:{colorpicker:{confirm:"\u786E\u5B9A",clear:"\u6E05\u7A7A"},datepicker:{now:"\u6B64\u523B",today:"\u4ECA\u5929",cancel:"\u53D6\u6D88",clear:"\u6E05\u7A7A",confirm:"\u786E\u5B9A",selectDate:"\u9009\u62E9\u65E5\u671F",selectTime:"\u9009\u62E9\u65F6\u95F4",startDate:"\u5F00\u59CB\u65E5\u671F",startTime:"\u5F00\u59CB\u65F6\u95F4",endDate:"\u7ED3\u675F\u65E5\u671F",endTime:"\u7ED3\u675F\u65F6\u95F4",prevYear:"\u524D\u4E00\u5E74",nextYear:"\u540E\u4E00\u5E74",prevMonth:"\u4E0A\u4E2A\u6708",nextMonth:"\u4E0B\u4E2A\u6708",year:"\u5E74",month1:"1 \u6708",month2:"2 \u6708",month3:"3 \u6708",month4:"4 \u6708",month5:"5 \u6708",month6:"6 \u6708",month7:"7 \u6708",month8:"8 \u6708",month9:"9 \u6708",month10:"10 \u6708",month11:"11 \u6708",month12:"12 \u6708",weeks:{sun:"\u65E5",mon:"\u4E00",tue:"\u4E8C",wed:"\u4E09",thu:"\u56DB",fri:"\u4E94",sat:"\u516D"},months:{jan:"\u4E00\u6708",feb:"\u4E8C\u6708",mar:"\u4E09\u6708",apr:"\u56DB\u6708",may:"\u4E94\u6708",jun:"\u516D\u6708",jul:"\u4E03\u6708",aug:"\u516B\u6708",sep:"\u4E5D\u6708",oct:"\u5341\u6708",nov:"\u5341\u4E00\u6708",dec:"\u5341\u4E8C\u6708"}},select:{loading:"\u52A0\u8F7D\u4E2D",noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",placeholder:"\u8BF7\u9009\u62E9"},cascader:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",loading:"\u52A0\u8F7D\u4E2D",placeholder:"\u8BF7\u9009\u62E9",noData:"\u6682\u65E0\u6570\u636E"},pagination:{goto:"\u524D\u5F80",pagesize:"\u6761/\u9875",total:"\u5171 {total} \u6761",pageClassifier:"\u9875",deprecationWarning:"\u4F60\u4F7F\u7528\u4E86\u4E00\u4E9B\u5DF2\u88AB\u5E9F\u5F03\u7684\u7528\u6CD5\uFF0C\u8BF7\u53C2\u8003 el-pagination \u7684\u5B98\u65B9\u6587\u6863"},messagebox:{title:"\u63D0\u793A",confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",error:"\u8F93\u5165\u7684\u6570\u636E\u4E0D\u5408\u6CD5!"},upload:{deleteTip:"\u6309 delete \u952E\u53EF\u5220\u9664",delete:"\u5220\u9664",preview:"\u67E5\u770B\u56FE\u7247",continue:"\u7EE7\u7EED\u4E0A\u4F20"},table:{emptyText:"\u6682\u65E0\u6570\u636E",confirmFilter:"\u7B5B\u9009",resetFilter:"\u91CD\u7F6E",clearFilter:"\u5168\u90E8",sumText:"\u5408\u8BA1"},tree:{emptyText:"\u6682\u65E0\u6570\u636E"},transfer:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",titles:["\u5217\u8868 1","\u5217\u8868 2"],filterPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",noCheckedFormat:"\u5171 {total} \u9879",hasCheckedFormat:"\u5DF2\u9009 {checked}/{total} \u9879"},image:{error:"\u52A0\u8F7D\u5931\u8D25"},pageHeader:{title:"\u8FD4\u56DE"},popconfirm:{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}}};t.default=n})(Ne);const Je=Ve(Ne),Ke={common:{confirm:"Confirm",cancel:"Cancel",clear:"Cancel",all:"All",selected:"Selected",selectPlaceholder:"Please Select"},location:{name:"Location",selectLocation:"Select Location",inputLocation:"Please enter a name to search"},distpicker:{province:"Province",city:"City",district:"District",street:"Street"},deptEmpl:{deptName:"Department",emplName:"Employee",deptView:"View by Department",letterView:"View by letter",searchResults:"Search results",enterKeywords:"Enter keywords",multipleLimit:"Multiple Limit"}},We={common:{confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",clear:"\u6E05\u9664",all:"\u5168\u90E8",selected:"\u5DF2\u9009\u4E2D",selectPlaceholder:"\u8BF7\u9009\u62E9"},location:{name:"\u5B9A\u4F4D",selectLocation:"\u9009\u62E9\u5B9A\u4F4D",inputLocation:"\u8BF7\u8F93\u5165\u540D\u79F0\u641C\u7D22"},distpicker:{province:"\u7701\u4EFD",city:"\u57CE\u5E02",district:"\u533A/\u53BF",street:"\u9547/\u8857\u9053"},deptEmpl:{deptName:"\u90E8\u95E8",emplName:"\u4EBA\u5458",deptView:"\u6309\u90E8\u95E8\u67E5\u770B",letterView:"\u6309\u5B57\u6BCD\u67E5\u770B",searchResults:"\u67E5\u8BE2\u7ED3\u679C",enterKeywords:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",multipleLimit:"\u9650\u9009"}};let Ye=e.reactive({lang:localStorage.getItem("lang")||"zh"});const qe={en:{...He,...Ke},zh:{...Je,...We}};function Ge(t){return{messages:t.messages,$st(n,...o){const a=Re(this.messages[Ye.lang],n);return typeof a=="function"?a(...o):a!==null?a:n}}}const Ze=Ge({locale:localStorage.getItem("lang")||"zh",messages:qe}),L=function(t){return Ze.$st(t)},El="",te=(t,n)=>{const o=t.__vccOpts||t;for(const[a,i]of n)o[a]=i;return o},Xe={key:0},Qe={key:1},et={class:"ft-location"},tt={class:"area-title"},nt={class:"name"},ot={id:"map"},lt={class:"footer"},at=e.createTextVNode("cancel"),it=e.createTextVNode("\u786E\u5B9A"),ce=te({name:"index",props:{visible:Boolean,modelValue:{type:Object,default:()=>({lng:"",lat:"",address:""})},placeholder:{type:String,default:"\u8BF7\u9009\u62E9"}},emits:["update:visible","change"],setup(t,{emit:n}){const o=t,a=e.ref(o.modelValue.address),i=e.ref(o.modelValue.address),d=e.ref(!1);window._AMapSecurityConfig={securityJsCode:"081ca4bb09fb1423b750cf82854b9718"};const c=e.reactive({lng:o.modelValue.lng,lat:o.modelValue.lat,address:o.modelValue.address}),p=e.ref(),r=e.ref(),m=e.ref(null),y=e.ref(o.visible);function l(){x()}function V(){n("update:visible",!1)}function g(){y.value=!y.value}let D,u,A,U;function x(){d.value=!0,ze.load({key:"528c074304eca4d4c8a61bece33483d4",version:"2.0"}).then(B=>{u=B,m.value=new B.Map("map"),m.value.on("click",F),c.lng&&f(),B.plugin(["AMap.ToolBar","AMap.Scale","AMap.Geolocation","AMap.PlaceSearch","AMap.Geocoder"],()=>{const v=new B.ToolBar,P=new B.Scale,M=new B.Geolocation({enableHighAccuracy:!0,timeout:1e4,position:"RB",buttonOffset:new B.Pixel(10,20),zoomToAccuracy:!0});d.value=!1,U=new B.Geocoder({city:"\u5168\u56FD"}),c.lng==""&&(M.getCurrentPosition((I,w)=>{}),m.value.addControl(M)),m.value.addControl(v),m.value.addControl(P),D=new B.PlaceSearch({map:m.value,type:"\u8D2D\u7269\u670D\u52A1|\u4FBF\u6C11\u5546\u5E97|\u4FBF\u5229\u5E97",city:"",pageSize:20,pageIndex:1,citylimit:!1,autoFitView:!0})})})}function O(B,v){B?D.search(B,(P,M)=>{if(M&&typeof M=="object"&&M.poiList){const I=M.poiList.pois;I.forEach(w=>{if(w.name!==w.adname||w.name!==w.cityname){let N;w.address.indexOf(w.name)!=-1?N=w.address:N=w.address+w.name,w.cityname===w.adname?w.value=w.adname+N:w.value=w.cityname+w.adname+N}}),v(I)}else v([])}):v([])}function F(B){const{lng:v,lat:P}=B.lnglat;U.getAddress([v,P],(M,I)=>{if(M==="complete"&&I.info==="OK"){const{formattedAddress:w}=I.regeocode;c.lng=v,c.lat=P,c.address=w,a.value=w}})}function R(B){c.lng=B.location.lng,c.lat=B.location.lat,c.address=B.value,m.value.setZoomAndCenter(16,[c.lng,c.lat])}function f(B){const{lng:v,lat:P}=c||B;A&&(A.setMap(null),s),A=new u.Marker({position:new u.LngLat(v,P),anchor:"bottom-center"}),m.value.add(A),m.value.setZoomAndCenter(16,[v,P])}function b(){if(a.value==""){Q.ElMessage.error("\u8BF7\u60A8\u641C\u7D22\u9009\u62E9\u5B9A\u4F4D\u4FE1\u606F");return}V(),i.value=a.value,n("change",c)}return(B,v)=>{const P=e.resolveComponent("el-autocomplete"),M=e.resolveComponent("el-button"),I=e.resolveComponent("el-popover"),w=e.resolveDirective("loading");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"buttonRef",ref:p,class:"cursor",onClick:g},[i.value?(e.openBlock(),e.createElementBlock("span",Xe,e.toDisplayString(i.value),1)):(e.openBlock(),e.createElementBlock("span",Qe,e.toDisplayString(t.placeholder),1))],512),e.createVNode(I,{visible:y.value,width:400,ref_key:"popoverRef",ref:r,trigger:"click","virtual-ref":p.value,"virtual-triggering":"",onHide:V,onBeforeEnter:l},{default:e.withCtx(()=>[e.createElementVNode("div",et,[e.createElementVNode("div",tt,e.toDisplayString(e.unref(L)("location.name")),1),e.createVNode(P,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=N=>a.value=N),"fetch-suggestions":O,style:{width:"100%"},placeholder:e.unref(L)("location.inputLocation"),clearable:"",debounce:500,onSelect:R},{title:e.withCtx(({item:N})=>[e.createElementVNode("div",nt,e.toDisplayString(N.address+N.title),1)]),_:1},8,["modelValue","placeholder"]),e.withDirectives(e.createElementVNode("div",ot,null,512),[[w,d.value]]),e.createElementVNode("div",lt,[e.createVNode(M,{onClick:g},{default:e.withCtx(()=>[at]),_:1}),e.createVNode(M,{type:"primary",onClick:b},{default:e.withCtx(()=>[it]),_:1})])])]),_:1},8,["visible","virtual-ref"])],64)}}},[["__scopeId","data-v-050ed7d3"]]);ce.install=function(t){t.component("FtLocation",ce)};const Z=Te.default.create({baseURL:"/api",timeout:1e4,withCredentials:!1});Z.interceptors.request.use(t=>{const n=localStorage.getItem("authKey");if(n&&(t.headers.authKey=n),!t.headers.notEnt){const o=localStorage.getItem("entId");o&&(t.url="ent_"+o+"/m/v1/"+t.url)}return t},t=>Promise.reject(t)),Z.interceptors.response.use(t=>(t.data.code===5&&location.reload(),t.data),t=>Promise.reject(t));const Cl="",rt={key:0},st={key:1},ct={class:"region-list"},dt=["onClick"],pt={class:"region-list"},ut=["onClick"],ft={class:"region-list"},mt=["onClick"],ht={class:"region-list"},_t=["onClick"],gt={name:"index",props:{modelValue:Object,visible:{type:Boolean,default:!1},placeholder:{type:String,default:L("distpicker.selectPlaceholder")},precision:{type:Number,default:0}},emits:["change","update:visible"],setup(t,{emit:n}){const o=t,a=e.ref(!1),i=e.ref("province"),d=e.ref(o.visible),c=e.ref([{id:2,code:11e4,name:"\u5317\u4EAC\u5E02"},{id:3,code:12e4,name:"\u5929\u6D25\u5E02"},{id:4,code:44e4,name:"\u5E7F\u4E1C\u7701"},{id:5,code:32e4,name:"\u6C5F\u82CF\u7701"},{id:6,code:31e4,name:"\u4E0A\u6D77\u5E02"},{id:7,code:5e5,name:"\u91CD\u5E86\u5E02"},{id:8,code:37e4,name:"\u5C71\u4E1C\u7701"},{id:9,code:33e4,name:"\u6D59\u6C5F\u7701"},{id:10,code:41e4,name:"\u6CB3\u5357\u7701"},{id:11,code:51e4,name:"\u56DB\u5DDD\u7701"},{id:12,code:42e4,name:"\u6E56\u5317\u7701"},{id:13,code:43e4,name:"\u6E56\u5357\u7701"},{id:14,code:35e4,name:"\u798F\u5EFA\u7701"},{id:15,code:13e4,name:"\u6CB3\u5317\u7701"},{id:16,code:52e4,name:"\u8D35\u5DDE\u7701"},{id:17,code:61e4,name:"\u9655\u897F\u7701"},{id:18,code:36e4,name:"\u6C5F\u897F\u7701"},{id:19,code:21e4,name:"\u8FBD\u5B81\u7701"},{id:20,code:53e4,name:"\u4E91\u5357\u7701"},{id:21,code:34e4,name:"\u5B89\u5FBD\u7701"},{id:22,code:14e4,name:"\u5C71\u897F\u7701"},{id:23,code:15e4,name:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A"},{id:24,code:45e4,name:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A"},{id:25,code:65e4,name:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A"},{id:26,code:23e4,name:"\u9ED1\u9F99\u6C5F\u7701"},{id:27,code:22e4,name:"\u5409\u6797\u7701"},{id:28,code:46e4,name:"\u6D77\u5357\u7701"},{id:29,code:62e4,name:"\u7518\u8083\u7701"},{id:30,code:64e4,name:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A"},{id:31,code:63e4,name:"\u9752\u6D77\u7701"},{id:32,code:54e4,name:"\u897F\u85CF\u81EA\u6CBB\u533A"},{id:33,code:71e4,name:"\u53F0\u6E7E\u7701"},{id:34,code:81e4,name:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A"},{id:35,code:82e4,name:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A"}]),p=e.ref([]),r=e.ref([]),m=e.ref([]),y=e.reactive({province:o.modelValue.province,city:o.modelValue.city,district:o.modelValue.district,street:o.modelValue.street,address:""}),l=e.reactive({province:"",city:"",district:"",street:""});function V(){d.value=!d.value,i.value="province",d.value||n("update:visible",!1)}const g=e.ref(),D=e.ref();function u(){n("update:visible",!1)}function A(f){y.province=f,y.city=l.city="",y.district=l.district="",y.street=l.street="",r.value=[],m.value=[],a.value=!0,R(f,"province").then(b=>{l.province=b.data.name,b.data.keepOn?(p.value=b.data.children||[],i.value="city"):(p.value=[],r.value=b.data.children||[],i.value="district"),o.precision<=3||F()}).catch(b=>{console.log(b)}),a.value=!1}function U(f){y.city=f,y.district=l.district="",y.street=l.street="",m.value=[],a.value=!0,R(f,"city").then(b=>{l.city=b.data.name,b.data.keepOn?(r.value=b.data.children||[],i.value="district",o.precision<=2||F()):(i.value="street",r.value=[],m.value=b.data.children||[],o.precision<=1||F())}),a.value=!1}function x(f){y.district=f,y.street=l.street="",a.value=!0,R(f,"district").then(b=>{l.district=b.data.name,b.data.keepOn?(m.value=b.data.children||[],i.value="street",o.precision<=1||F()):(m.value=[],F())}),a.value=!1}function O(f){y.street=f,R(f,"street").then(b=>{l.street=b.data.name,F()})}function F(){y.address=l.province+l.city+l.district+l.street,n("change",y),V()}function R(f,b){return Z.post("common/data/getDistrict",{code:f,level:b},{headers:{notEnt:!0}})}return(f,b)=>{const B=e.resolveComponent("el-tab-pane"),v=e.resolveComponent("el-tabs"),P=e.resolveComponent("el-popover"),M=e.resolveDirective("loading");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"buttonRef",ref:D,class:"cursor",onClick:V},[y.address?(e.openBlock(),e.createElementBlock("span",rt,e.toDisplayString(y.address),1)):(e.openBlock(),e.createElementBlock("span",st,e.toDisplayString(t.placeholder),1))],512),e.createVNode(P,{visible:d.value,width:570,ref_key:"popoverRef",ref:g,trigger:"click","virtual-ref":D.value,"virtual-triggering":"",onHide:u},{default:e.withCtx(()=>[e.createVNode(v,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=I=>i.value=I),class:"ft-position"},{default:e.withCtx(()=>[e.createVNode(B,{label:e.unref(L)("distpicker.province"),name:"province"},{default:e.withCtx(()=>[e.createElementVNode("div",ct,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,(I,w)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["region-item",{"is-current":I.code===y.province}]),onClick:N=>A(I.code),key:w},e.toDisplayString(I.name),11,dt))),128))])]),_:1},8,["label"]),t.precision<=3?(e.openBlock(),e.createBlock(B,{key:0,label:e.unref(L)("distpicker.city"),name:"city",disabled:p.value.length==0},{default:e.withCtx(()=>[e.withDirectives((e.openBlock(),e.createElementBlock("div",pt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(I,w)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["region-item",{"is-current":I.code===y.city}]),onClick:N=>U(I.code),key:w},e.toDisplayString(I.name),11,ut))),128))])),[[M,a.value]])]),_:1},8,["label","disabled"])):e.createCommentVNode("",!0),t.precision<=2?(e.openBlock(),e.createBlock(B,{key:1,label:e.unref(L)("distpicker.district"),name:"district",disabled:r.value.length==0},{default:e.withCtx(()=>[e.createElementVNode("div",ft,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(I,w)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["region-item",{"is-current":I.code===y.district}]),onClick:N=>x(I.code),key:w},e.toDisplayString(I.name),11,mt))),128))])]),_:1},8,["label","disabled"])):e.createCommentVNode("",!0),t.precision<=1?(e.openBlock(),e.createBlock(B,{key:2,label:e.unref(L)("distpicker.street"),name:"street",disabled:m.value.length==0},{default:e.withCtx(()=>[e.createElementVNode("div",ht,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(I,w)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass(["region-item",{"is-current":I.code===y.street}]),onClick:N=>O(I.code),key:w},e.toDisplayString(I.name),11,_t))),128))])]),_:1},8,["label","disabled"])):e.createCommentVNode("",!0)]),_:1},8,["modelValue"])]),_:1},8,["visible","virtual-ref"])],64)}}},de=te(gt,[["__scopeId","data-v-c0871004"]]);de.install=function(t){t.component("FtDistpicker",de)};/*! Element Plus Icons Vue v2.0.10 */var ne=(t,n)=>{let o=t.__vccOpts||t;for(let[a,i]of n)o[a]=i;return o},yt={name:"ArrowDown"},bt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kt=e.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Vt=[kt];function Et(t,n,o,a,i,d){return e.openBlock(),e.createElementBlock("svg",bt,Vt)}var wt=ne(yt,[["render",Et],["__file","arrow-down.vue"]]),Ct={name:"ArrowRight"},Nt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Bt=e.createElementVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),St=[Bt];function xt(t,n,o,a,i,d){return e.openBlock(),e.createElementBlock("svg",Nt,St)}var G=ne(Ct,[["render",xt],["__file","arrow-right.vue"]]),$t={name:"Close"},Dt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Lt=e.createElementVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),At=[Lt];function It(t,n,o,a,i,d){return e.openBlock(),e.createElementBlock("svg",Dt,At)}var pe=ne($t,[["render",It],["__file","close.vue"]]),Mt={name:"More"},Tt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ft=e.createElementVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),zt=[Ft];function Ut(t,n,o,a,i,d){return e.openBlock(),e.createElementBlock("svg",Tt,zt)}var Ot=ne(Mt,[["render",Ut],["__file","more.vue"]]),vt={name:"Search"},Pt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Rt=e.createElementVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),jt=[Rt];function Ht(t,n,o,a,i,d){return e.openBlock(),e.createElementBlock("svg",Pt,jt)}var ue=ne(vt,[["render",Ht],["__file","search.vue"]]);function Be(t,n,o,a){let i={};function d(c,p,r,m){m.forEach(y=>{c===y[p]&&(i=y),y[r]!=null&&d(c,p,r,y[r])})}return d(t,n,o,a),i}const Nl="",Jt={key:0},Kt={key:1},Wt={class:"ft-select-dept"},Yt={class:"ft-select-dept__left"},qt={class:"ft-select-dept__header"},Gt={key:0,class:"ft-select-dept__body"},Zt={class:"ft-select-dept__breadcrumb"},Xt={class:"ft-select-dept__list"},Qt={key:1,class:"ft-select-dept__body"},en={class:"ft-select-dept__breadcrumb"},tn=["onClick"],nn=["onClick"],on={class:"ft-select-dept__right"},ln={class:"ft-select-dept__header"},an={class:"user-select"},rn={key:0,class:"user-item"},sn={class:"footer"},cn={name:"index",props:{modelValue:Number,visible:{type:Boolean,default:!1},deptList:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:L("common.selectPlaceholder")}},emits:["change","update:visible","update:modelValue"],setup(t,{emit:n}){const o=t,a=e.ref(o.visible),i=e.ref(),d=e.ref(),c=e.ref(""),p=e.ref([]),r=e.ref([]),m=e.ref([]),y=e.ref(o.modelValue),l=e.ref(""),V=e.ref("");function g(){a.value=!a.value,a.value?U():n("update:visible",!1)}e.onMounted(()=>{o.modelValue&&(U(),l.value=Be(o.modelValue,"id","children",m.value).name||"",l.value&&(V.value=l.value))});function D(){g(),V.value=l.value,n("update:modelValue",y.value),n("change",y.value)}function u(R){p.value=[],m.value&&m.value.length&&(p.value=m.value.filter(f=>ee.default.match(f.name,R)))}function A(){O()}async function U(R=!1,f={}){let b=X(o.deptList);if(b.length===0){const{data:B}=await Z.post("admin/dept/getTree");b=B||[]}m.value=[],JSON.stringify(f)=="{}"?b[0].children.length>0&&(r.value=[{label:L("common.all"),deptList:b}]):(b=f.children||[],r.value.push({label:f.name,deptList:b})),m.value=b}function x(R){l.value=R}function O(){l.value="",y.value=0}function F(R,f){f+1<=r.value.length-1&&r.value.splice(f+1,r.value.length-1),m.value=R.deptList}return(R,f)=>{const b=e.resolveComponent("el-icon"),B=e.resolveComponent("el-input"),v=e.resolveComponent("el-radio"),P=e.resolveComponent("el-radio-group"),M=e.resolveComponent("el-breadcrumb-item"),I=e.resolveComponent("el-breadcrumb"),w=e.resolveComponent("el-scrollbar"),N=e.resolveComponent("el-button"),j=e.resolveComponent("el-popover");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"buttonRef",ref:d,class:"cursor",onClick:g},[V.value?(e.openBlock(),e.createElementBlock("span",Jt,e.toDisplayString(V.value),1)):(e.openBlock(),e.createElementBlock("span",Kt,e.toDisplayString(t.placeholder),1))],512),e.createVNode(j,{visible:a.value,width:570,ref_key:"popoverRef",ref:i,trigger:"click","virtual-ref":d.value,"virtual-triggering":"","fallback-placements":["bottom","top","right","left"]},{default:e.withCtx(()=>[e.createElementVNode("div",Wt,[e.createElementVNode("div",Yt,[e.createElementVNode("div",qt,[e.createVNode(B,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=C=>c.value=C),placeholder:e.unref(L)("deptEmpl.enterKeywords"),onInput:u},{suffix:e.withCtx(()=>[e.createVNode(b,{class:"el-input__icon ft-cursor",onClick:u},{default:e.withCtx(()=>[e.createVNode(e.unref(ue))]),_:1})]),_:1},8,["modelValue","placeholder"])]),c.value?(e.openBlock(),e.createElementBlock("div",Gt,[e.createElementVNode("div",Zt,e.toDisplayString(e.unref(L)("deptEmpl.searchResults"))+" : "+e.toDisplayString(c.value),1),e.createElementVNode("div",Xt,[e.createVNode(P,{modelValue:y.value,"onUpdate:modelValue":f[1]||(f[1]=C=>y.value=C)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(C,z)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-select-dept__item",key:z},[e.createVNode(v,{label:C.id,onChange:W=>x(C.name)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(C.name),1)]),_:2},1032,["label","onChange"])]))),128))]),_:1},8,["modelValue"])])])):(e.openBlock(),e.createElementBlock("div",Qt,[e.createElementVNode("div",en,[e.createVNode(I,{"separator-icon":e.unref(G)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(C,z)=>(e.openBlock(),e.createBlock(M,{key:z},{default:e.withCtx(()=>[e.createElementVNode("a",{href:"javascript:;",onClick:W=>F(C,z)},e.toDisplayString(C.label),9,tn)]),_:2},1024))),128))]),_:1},8,["separator-icon"])]),e.createVNode(w,{class:"ft-select-dept__list"},{default:e.withCtx(()=>[e.createVNode(P,{modelValue:y.value,"onUpdate:modelValue":f[2]||(f[2]=C=>y.value=C)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(C,z)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-select-dept__item",key:z},[C.children?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(v,{label:C.id,onChange:W=>x(C.name)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(),1)]),_:2},1032,["label","onChange"]),e.createElementVNode("div",{class:"dept-name",onClick:W=>U(!0,C)},[e.createTextVNode(e.toDisplayString(C.name)+" ",1),e.createVNode(b,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})],8,nn)],64)):(e.openBlock(),e.createBlock(v,{key:1,label:C.id,onChange:W=>x(C.name)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(C.name),1)]),_:2},1032,["label","onChange"]))]))),128))]),_:1},8,["modelValue"])]),_:1})]))]),e.createElementVNode("div",on,[e.createElementVNode("div",ln,[e.createTextVNode(e.toDisplayString(e.unref(L)("common.selected"))+e.toDisplayString(e.unref(L)("deptEmpl.deptName"))+" ",1),e.createVNode(N,{text:"",onClick:f[3]||(f[3]=C=>A()),disabled:!y.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.clear")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",an,[l.value&&y.value?(e.openBlock(),e.createElementBlock("span",rn,[e.createTextVNode(e.toDisplayString(l.value)+" ",1),e.createVNode(b,{onClick:f[4]||(f[4]=e.withModifiers(C=>O(),["stop"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(pe))]),_:1})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",sn,[e.createVNode(N,{onClick:g},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.cancel")),1)]),_:1}),e.createVNode(N,{type:"primary",onClick:D},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.confirm")),1)]),_:1})])]),_:1},8,["visible","virtual-ref"])],64)}}},fe=te(cn,[["__scopeId","data-v-bb3f561c"]]);fe.install=function(t){t.component("FtSelectDept",fe)};function dn(){var t=window.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);var o=t.indexOf("Trident/");if(o>0){var a=t.indexOf("rv:");return parseInt(t.substring(a+3,t.indexOf(".",a)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}let oe;function me(){me.init||(me.init=!0,oe=dn()!==-1)}var le={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){me(),e.nextTick(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",oe&&this.$el.appendChild(t),t.data="about:blank",oe||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!oe&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const pn=e.withScopeId("data-v-b329ee4c");e.pushScopeId("data-v-b329ee4c");const un={class:"resize-observer",tabindex:"-1"};e.popScopeId();const fn=pn((t,n,o,a,i,d)=>(e.openBlock(),e.createBlock("div",un)));le.render=fn,le.__scopeId="data-v-b329ee4c",le.__file="src/components/ResizeObserver.vue";function ae(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ae=function(n){return typeof n}:ae=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ae(t)}function mn(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Se(t,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function hn(t,n,o){return n&&Se(t.prototype,n),o&&Se(t,o),t}function xe(t){return _n(t)||gn(t)||yn(t)||bn()}function _n(t){if(Array.isArray(t))return he(t)}function gn(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yn(t,n){if(!!t){if(typeof t=="string")return he(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return he(t,n)}}function he(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,a=new Array(n);o<n;o++)a[o]=t[o];return a}function bn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kn(t){var n;return typeof t=="function"?n={callback:t}:n=t,n}function Vn(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,d,c=function(r){for(var m=arguments.length,y=new Array(m>1?m-1:0),l=1;l<m;l++)y[l-1]=arguments[l];if(d=y,!(a&&r===i)){var V=o.leading;typeof V=="function"&&(V=V(r,i)),(!a||r!==i)&&V&&t.apply(void 0,[r].concat(xe(d))),i=r,clearTimeout(a),a=setTimeout(function(){t.apply(void 0,[r].concat(xe(d))),a=0},n)}};return c._clear=function(){clearTimeout(a),a=null},c}function $e(t,n){if(t===n)return!0;if(ae(t)==="object"){for(var o in t)if(!$e(t[o],n[o]))return!1;return!0}return!1}var En=function(){function t(n,o,a){mn(this,t),this.el=n,this.observer=null,this.frozen=!1,this.createObserver(o,a)}return hn(t,[{key:"createObserver",value:function(o,a){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=kn(o),this.callback=function(p,r){i.options.callback(p,r),p&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var d=this.options.throttleOptions||{},c=d.leading;this.callback=Vn(this.callback,this.options.throttle,{leading:function(r){return c==="both"||c==="visible"&&r||c==="hidden"&&!r}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(p){var r=p[0];if(p.length>1){var m=p.find(function(l){return l.isIntersecting});m&&(r=m)}if(i.callback){var y=r.isIntersecting&&r.intersectionRatio>=i.threshold;if(y===i.oldResult)return;i.oldResult=y,i.callback(y,r)}},this.options.intersection),e.nextTick(function(){i.observer&&i.observer.observe(i.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),t}();function De(t,n,o){var a=n.value;if(!!a)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new En(t,a,o);t._vue_visibilityState=i}}function wn(t,n,o){var a=n.value,i=n.oldValue;if(!$e(a,i)){var d=t._vue_visibilityState;if(!a){Le(t);return}d?d.createObserver(a,o):De(t,{value:a},o)}}function Le(t){var n=t._vue_visibilityState;n&&(n.destroyObserver(),delete t._vue_visibilityState)}var Cn={beforeMount:De,updated:wn,unmounted:Le},Nn={itemsLimit:1e3},Bn=/(auto|scroll)/;function Ae(t,n){return t.parentNode===null?n:Ae(t.parentNode,n.concat([t]))}var _e=function(n,o){return getComputedStyle(n,null).getPropertyValue(o)},Sn=function(n){return _e(n,"overflow")+_e(n,"overflow-y")+_e(n,"overflow-x")},xn=function(n){return Bn.test(Sn(n))};function $n(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=Ae(t.parentNode,[]),o=0;o<n.length;o+=1)if(xn(n[o]))return n[o];return document.scrollingElement||document.documentElement}}function ie(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(n){return typeof n}:ie=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ie(t)}var Dn={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(n){return["vertical","horizontal"].includes(n)}}};function Ln(){return this.items.length&&ie(this.items[0])!=="object"}var ge=!1;if(typeof window<"u"){ge=!1;try{var An=Object.defineProperty({},"passive",{get:function(){ge=!0}});window.addEventListener("test",null,An)}catch{}}let In=0;var re={name:"RecycleScroller",components:{ResizeObserver:le},directives:{ObserveVisibility:Cn},props:{...Dn,itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}},emits:["resize","visible","hidden","update"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const t={"-1":{accumulator:0}},n=this.items,o=this.sizeField,a=this.minItemSize;let i=1e4,d=0,c;for(let p=0,r=n.length;p<r;p++)c=n[p][o]||a,c<i&&(i=c),d+=c,t[p]={accumulator:d,size:c};return this.$_computedMinItemSize=i,t}return[]},simpleArray:Ln},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},beforeUnmount(){this.removeListeners()},methods:{addView(t,n,o,a,i){const d=e.markRaw({id:In++,index:n,used:!0,key:a,type:i}),c=e.shallowReactive({item:o,position:0,nr:d});return t.push(c),c},unuseView(t,n=!1){const o=this.$_unusedViews,a=t.nr.type;let i=o.get(a);i||(i=[],o.set(a,i)),i.push(t),n||(t.nr.used=!1,t.position=-9999,this.$_views.delete(t.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(t){this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:n}=this.updateVisibleItems(!1,!0);n||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,100))}))},handleVisibilityChange(t,n){this.ready&&(t||n.boundingClientRect.width!==0||n.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(t,n=!1){const o=this.itemSize,a=this.$_computedMinItemSize,i=this.typeField,d=this.simpleArray?null:this.keyField,c=this.items,p=c.length,r=this.sizes,m=this.$_views,y=this.$_unusedViews,l=this.pool;let V,g,D;if(!p)V=g=D=0;else if(this.$_prerender)V=0,g=this.prerender,D=null;else{const f=this.getScroll();if(n){let B=f.start-this.$_lastUpdateScrollPosition;if(B<0&&(B=-B),o===null&&B<a||B<o)return{continuous:!0}}this.$_lastUpdateScrollPosition=f.start;const b=this.buffer;if(f.start-=b,f.end+=b,o===null){let B,v=0,P=p-1,M=~~(p/2),I;do I=M,B=r[M].accumulator,B<f.start?v=M:M<p-1&&r[M+1].accumulator>f.start&&(P=M),M=~~((v+P)/2);while(M!==I);for(M<0&&(M=0),V=M,D=r[p-1].accumulator,g=M;g<p&&r[g].accumulator<f.end;g++);g===-1?g=c.length-1:(g++,g>p&&(g=p))}else V=~~(f.start/o),g=Math.ceil(f.end/o),V<0&&(V=0),g>p&&(g=p),D=p*o}g-V>Nn.itemsLimit&&this.itemsLimitError(),this.totalSize=D;let u;const A=V<=this.$_endIndex&&g>=this.$_startIndex;if(this.$_continuous!==A){if(A){m.clear(),y.clear();for(let f=0,b=l.length;f<b;f++)u=l[f],this.unuseView(u)}this.$_continuous=A}else if(A)for(let f=0,b=l.length;f<b;f++)u=l[f],u.nr.used&&(t&&(u.nr.index=c.findIndex(B=>d?B[d]===u.item[d]:B===u.item)),(u.nr.index===-1||u.nr.index<V||u.nr.index>=g)&&this.unuseView(u));const U=A?null:new Map;let x,O,F,R;for(let f=V;f<g;f++){x=c[f];const b=d?x[d]:x;if(b==null)throw new Error(`Key is ${b} on item (keyField is '${d}')`);if(u=m.get(b),!o&&!r[f].size){u&&this.unuseView(u);continue}u?(u.nr.used=!0,u.item=x):(O=x[i],F=y.get(O),A?F&&F.length?(u=F.pop(),u.item=x,u.nr.used=!0,u.nr.index=f,u.nr.key=b,u.nr.type=O):u=this.addView(l,f,x,b,O):(R=U.get(O)||0,(!F||R>=F.length)&&(u=this.addView(l,f,x,b,O),this.unuseView(u,!0),F=y.get(O)),u=F[R],u.item=x,u.nr.used=!0,u.nr.index=f,u.nr.key=b,u.nr.type=O,U.set(O,R+1),R++),m.set(b,u)),o===null?u.position=r[f-1].accumulator:u.position=f*o}return this.$_startIndex=V,this.$_endIndex=g,this.emitUpdate&&this.$emit("update",V,g),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:A}},getListenerTarget(){let t=$n(this.$el);return window.document&&(t===window.document.documentElement||t===window.document.body)&&(t=window),t},getScroll(){const{$el:t,direction:n}=this,o=n==="vertical";let a;if(this.pageMode){const i=t.getBoundingClientRect(),d=o?i.height:i.width;let c=-(o?i.top:i.left),p=o?window.innerHeight:window.innerWidth;c<0&&(p+=c,c=0),c+p>d&&(p=d-c),a={start:c,end:c+p}}else o?a={start:t.scrollTop,end:t.scrollTop+t.clientHeight}:a={start:t.scrollLeft,end:t.scrollLeft+t.clientWidth};return a},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,ge?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){!this.listenerTarget||(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(t){let n;this.itemSize===null?n=t>0?this.sizes[t-1].accumulator:0:n=t*this.itemSize,this.scrollToPosition(n)},scrollToPosition(t){this.direction==="vertical"?this.$el.scrollTop=t:this.$el.scrollLeft=t},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((t,n)=>t.index-n.index)}}};const Mn={key:0,class:"vue-recycle-scroller__slot"},Tn={key:1,class:"vue-recycle-scroller__slot"};function Fn(t,n,o,a,i,d){const c=e.resolveComponent("ResizeObserver"),p=e.resolveDirective("observe-visibility");return e.withDirectives((e.openBlock(),e.createBlock("div",{class:["vue-recycle-scroller",{ready:i.ready,"page-mode":o.pageMode,[`direction-${t.direction}`]:!0}],onScrollPassive:n[2]||(n[2]=(...r)=>d.handleScroll&&d.handleScroll(...r))},[t.$slots.before?(e.openBlock(),e.createBlock("div",Mn,[e.renderSlot(t.$slots,"before")])):e.createCommentVNode("v-if",!0),e.createVNode("div",{ref:"wrapper",style:{[t.direction==="vertical"?"minHeight":"minWidth"]:i.totalSize+"px"},class:"vue-recycle-scroller__item-wrapper"},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(i.pool,r=>(e.openBlock(),e.createBlock("div",{key:r.nr.id,style:i.ready?{transform:`translate${t.direction==="vertical"?"Y":"X"}(${r.position}px)`}:null,class:["vue-recycle-scroller__item-view",{hover:i.hoverKey===r.nr.key}],onMouseenter:m=>i.hoverKey=r.nr.key,onMouseleave:n[1]||(n[1]=m=>i.hoverKey=null)},[e.renderSlot(t.$slots,"default",{item:r.item,index:r.nr.index,active:r.nr.used})],46,["onMouseenter"]))),128))],4),t.$slots.after?(e.openBlock(),e.createBlock("div",Tn,[e.renderSlot(t.$slots,"after")])):e.createCommentVNode("v-if",!0),e.createVNode(c,{onNotify:d.handleResize},null,8,["onNotify"])],34)),[[p,d.handleVisibilityChange]])}re.render=Fn,re.__file="src/components/RecycleScroller.vue";const Bl="",Sl="",zn=t=>(e.pushScopeId("data-v-6302d1a5"),t=t(),e.popScopeId(),t),Un={key:0},On={key:1},vn={class:"ft-select-empl"},Pn={class:"ft-select-empl__left"},Rn={class:"ft-select-empl__header"},jn={key:0,class:"ft-select-empl__body"},Hn={class:"ft-select-empl__breadcrumb"},Jn={class:"ft-select-empl__list"},Kn={class:"letter-block"},Wn={class:"ft-select-empl__item-bd"},Yn={class:"user-info"},qn={class:"user-name"},Gn={class:"user-post"},Zn={class:"item-cell user-switch"},Xn={key:1,class:"ft-select-empl__body"},Qn={class:"ft-select-empl__breadcrumb"},eo=["onClick"],to={class:"ft-select-empl__list"},no=["onClick"],oo={key:1,class:"dept-name"},lo={class:"ft-select-empl__item-bd"},ao={class:"user-info"},io={class:"user-name"},ro={class:"user-post"},so={key:2,class:"ft-select-empl__body"},co={class:"ft-select-empl__list"},po={key:0,class:"header"},uo={class:"label"},fo=zn(()=>e.createElementVNode("span",{class:"line"},null,-1)),mo={key:1,class:"ft-select-empl__item"},ho={class:"ft-select-empl__item-bd"},_o={class:"user-info"},go={class:"user-name"},yo={class:"user-post"},bo={class:"index-nav"},ko={class:"index-nav-wrap"},Vo={class:"letter-list"},Eo=["onClick"],wo={class:"ft-select-empl__right"},Co={class:"ft-select-empl__header"},No={class:"user-select"},Bo={key:0,class:"user-item"},So={class:"footer"},ye=te({name:"index",props:{modelValue:Number,visible:{type:Boolean,default:!1},deptList:{type:Array,default:()=>[]},emplList:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"\u8BF7\u9009\u62E9"}},emits:["change","update:visible","update:modelValue"],setup(t,{emit:n}){const o=t,a=e.ref(o.visible),i=e.ref(),d=e.ref(),c=e.ref(""),p=e.ref([]),r=e.ref([]),m=e.ref([]),y=e.ref(o.modelValue),l=e.ref(""),V=e.ref(""),g=e.ref(!1),D=e.reactive(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"]),u=e.ref(null),A=e.ref([]);e.ref([]);const{ctx:U}=e.getCurrentInstance();function x(){a.value=!a.value,a.value?f():n("update:visible",!1)}function O(){x(),V.value=l.value,n("update:modelValue",y.value),n("change",y.value)}function F(w){p.value=[],m.value&&m.value.length&&(p.value=m.value.filter(N=>ee.default.match(N.realname,w)))}function R(){B()}async function f(w=!1,N={}){let j=X(o.deptList),C=X(o.emplList);if(j.length===0){const{data:z}=await Z.post("admin/dept/getTree");j=z||[]}if(C.length===0){const{data:z}=await Z.post("admin/empl/getList",{types:"all"});C=z.list||[]}if(j.forEach(z=>{z.userType="dept"}),w)m.value=[],JSON.stringify(N)=="{}"?(C=[],j[0].children.length>0&&(r.value=[{label:L("common.all"),deptList:j,emplList:C}])):(C=v(N.id,C),j=N.children||[],j.forEach(z=>{z.userType="dept",C.length===0&&(z.disabled=!0)}),r.value.push({label:N.name,deptList:j,emplList:C}));else{let z=[];C.forEach(k=>{k.height=42,k.pinyin=D.filter($=>ee.default.match(k.realname.substr(0,1),$))[0],k.pinyin?(z[k.pinyin]=z[k.pinyin]||[],z[k.pinyin].push(k)):(z["#"]=z["#"]||[],z["#"].push(k))}),C=[];let W=0;D.forEach(k=>{if(z[k]){W++,C.push({id:k,types:"letter",height:21});for(let S=0;S<z[k].length;S++)C.push(z[k][S]),W++;const $=W-z[k].length;A.value.push({id:k,count:$,current:$===0})}else A.value.push({id:k,count:-1,current:!1})})}m.value=j.concat(C)}function b(w){l.value=w}function B(){l.value="",y.value=0}function v(w,N){let j=[];if(w)for(let C=0;C<N.length;C++)N[C].deptId===w&&j.push(N[C]);return j}function P(w,N){N+1<=r.value.length-1&&r.value.splice(N+1,r.value.length-1);const j=w.deptList,C=w.emplList;m.value=j.concat(C)}function M(){g.value=!g.value,m.value=[],g.value?f(!0):f()}function I(w,N){w!==-1&&(U.$refs.vlist.scrollToItem(w),A.value.forEach(j=>{j.current=!1,j.id===N&&(j.current=!0)}))}return(w,N)=>{const j=e.resolveComponent("el-icon"),C=e.resolveComponent("el-input"),z=e.resolveComponent("el-avatar"),W=e.resolveComponent("el-radio"),k=e.resolveComponent("el-radio-group"),$=e.resolveComponent("el-breadcrumb-item"),S=e.resolveComponent("el-breadcrumb"),E=e.resolveComponent("el-scrollbar"),T=e.resolveComponent("el-button"),Y=e.resolveComponent("el-popover");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"buttonRef",ref:d,class:"cursor",onClick:x},[V.value?(e.openBlock(),e.createElementBlock("span",Un,e.toDisplayString(V.value),1)):(e.openBlock(),e.createElementBlock("span",On,e.toDisplayString(t.placeholder),1))],512),e.createVNode(Y,{visible:a.value,width:570,ref_key:"popoverRef",ref:i,trigger:"click","virtual-ref":d.value,"virtual-triggering":""},{default:e.withCtx(()=>[e.createElementVNode("div",vn,[e.createElementVNode("div",Pn,[e.createElementVNode("div",Rn,[e.createVNode(C,{modelValue:c.value,"onUpdate:modelValue":N[0]||(N[0]=h=>c.value=h),placeholder:e.unref(L)("deptEmpl.enterKeywords"),onInput:F},{suffix:e.withCtx(()=>[e.createVNode(j,{class:"el-input__icon ft-cursor",onClick:F},{default:e.withCtx(()=>[e.createVNode(e.unref(ue))]),_:1})]),_:1},8,["modelValue","placeholder"])]),c.value?(e.openBlock(),e.createElementBlock("div",jn,[e.createElementVNode("div",Hn,e.toDisplayString(e.unref(L)("deptEmpl.searchResults"))+" : "+e.toDisplayString(c.value),1),e.createElementVNode("div",Jn,[e.createElementVNode("div",Kn,[e.createVNode(k,{modelValue:y.value,"onUpdate:modelValue":N[1]||(N[1]=h=>y.value=h)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(h,H)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-select-empl__item",key:H},[e.createVNode(W,{label:h.id,onChange:q=>b(h.realname)},{default:e.withCtx(()=>[e.createElementVNode("div",Wn,[e.createVNode(z,{class:"user-img",size:30,src:h.img||h.thumbImg},null,8,["src"]),e.createElementVNode("div",Yn,[e.createElementVNode("div",qn,e.toDisplayString(h.realname),1),e.createElementVNode("div",Gn,e.toDisplayString(h.post),1)])])]),_:2},1032,["label","onChange"])]))),128))]),_:1},8,["modelValue"])])])])):e.createCommentVNode("",!0),e.createElementVNode("div",Zn,[e.createElementVNode("div",{class:"item-cell__hd",onClick:M},e.toDisplayString(g.value===!1?e.unref(L)("deptEmpl.deptView"):e.unref(L)("deptEmpl.letterView")),1),e.createVNode(j,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})]),g.value?(e.openBlock(),e.createElementBlock("div",Xn,[e.createElementVNode("div",Qn,[e.createVNode(S,{"separator-icon":e.unref(G)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(h,H)=>(e.openBlock(),e.createBlock($,{key:H},{default:e.withCtx(()=>[e.createElementVNode("a",{href:"javascript:;",onClick:q=>P(h,H)},e.toDisplayString(h.label),9,eo)]),_:2},1024))),128))]),_:1},8,["separator-icon"])]),e.createElementVNode("div",to,[e.createVNode(E,{class:"dept-tree",height:"200px"},{default:e.withCtx(()=>[e.createVNode(k,{modelValue:y.value,"onUpdate:modelValue":N[2]||(N[2]=h=>y.value=h)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(h,H)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-select-empl__item",key:H},[h.userType=="dept"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[h.children?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",{class:"dept-name",onClick:q=>f(!0,h)},e.toDisplayString(h.name),9,no),e.createVNode(j,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})],64)):(e.openBlock(),e.createElementBlock("div",oo,e.toDisplayString(h.name),1))],64)):(e.openBlock(),e.createBlock(W,{key:1,label:h.id,onChange:q=>b(h.realname)},{default:e.withCtx(()=>[e.createElementVNode("div",lo,[e.createVNode(z,{class:"user-img",size:30,src:h.img||h.thumbImg},null,8,["src"]),e.createElementVNode("div",ao,[e.createElementVNode("div",io,e.toDisplayString(h.realname),1),e.createElementVNode("div",ro,e.toDisplayString(h.post),1)])])]),_:2},1032,["label","onChange"]))]))),128))]),_:1},8,["modelValue"])]),_:1})])])):(e.openBlock(),e.createElementBlock("div",so,[e.createElementVNode("div",co,[e.createVNode(k,{modelValue:y.value,"onUpdate:modelValue":N[3]||(N[3]=h=>y.value=h)},{default:e.withCtx(()=>[e.createVNode(e.unref(re),{ref_key:"vlist",ref:u,class:"letter-block",items:m.value,"key-field":"id","size-field":"height"},{default:e.withCtx(({item:h})=>[h.types==="letter"?(e.openBlock(),e.createElementBlock("div",po,[e.createElementVNode("span",uo,e.toDisplayString(h.id),1),fo])):(e.openBlock(),e.createElementBlock("div",mo,[e.createVNode(W,{label:h.id,onChange:H=>b(h.realname)},{default:e.withCtx(()=>[e.createElementVNode("div",ho,[e.createVNode(z,{class:"user-img",size:30,src:h.img||h.thumbImg},null,8,["src"]),e.createElementVNode("div",_o,[e.createElementVNode("div",go,e.toDisplayString(h.realname),1),e.createElementVNode("div",yo,e.toDisplayString(h.post),1)])])]),_:2},1032,["label","onChange"])]))]),_:1},8,["items"])]),_:1},8,["modelValue"]),e.createElementVNode("div",bo,[e.createElementVNode("div",ko,[e.createElementVNode("ul",Vo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(A.value,(h,H)=>(e.openBlock(),e.createElementBlock("li",{key:H,class:e.normalizeClass({"is-current":h.current,"is-invalid":h.count===-1&&!h.current}),onClick:q=>I(h.count,h.id)},e.toDisplayString(h.id),11,Eo))),128))])])])])]))]),e.createElementVNode("div",wo,[e.createElementVNode("div",Co,[e.createTextVNode(e.toDisplayString(e.unref(L)("common.selected"))+e.toDisplayString(e.unref(L)("deptEmpl.emplName"))+" ",1),e.createVNode(T,{text:"",onClick:N[4]||(N[4]=h=>R()),disabled:!y.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.clear")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",No,[l.value&&y.value?(e.openBlock(),e.createElementBlock("span",Bo,[e.createTextVNode(e.toDisplayString(l.value)+" ",1),e.createVNode(j,{onClick:N[5]||(N[5]=e.withModifiers(h=>B(),["stop"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(pe))]),_:1})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",So,[e.createVNode(T,{onClick:x},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.cancel")),1)]),_:1}),e.createVNode(T,{type:"primary",onClick:O},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.confirm")),1)]),_:1})])]),_:1},8,["visible","virtual-ref"])],64)}}},[["__scopeId","data-v-6302d1a5"]]);ye.install=function(t){t.component("FtSelectEmpl",ye)};const $l="",xo=t=>(e.pushScopeId("data-v-480523e0"),t=t(),e.popScopeId(),t),$o={class:"el-select__tags",ref:"tags"},Do={class:"ft-dept-empl"},Lo={class:"ft-dept-empl__left"},Ao={key:0,class:"ft-dept-empl__header"},Io={key:1,class:"ft-dept-empl__body"},Mo={class:"ft-dept-empl__breadcrumb"},To={class:"ft-dept-empl__list"},Fo={class:"letter-block"},zo={class:"ft-dept-empl__item-bd"},Uo={class:"user-info"},Oo={class:"user-name"},vo={class:"user-post"},Po={key:0,class:"ft-dept-empl__tabs"},Ro={key:1,class:"item-cell user-switch"},jo={key:2,class:"ft-dept-empl__body"},Ho={class:"ft-dept-empl__breadcrumb"},Jo=["onClick"],Ko={class:"ft-dept-empl__list"},Wo={key:0,class:"dept-name text-one-line"},Yo=["onClick"],qo=["onClick"],Go={key:1,class:"dept-name text-one-line"},Zo={class:"ft-dept-empl__item-bd"},Xo={class:"user-info"},Qo={class:"user-name"},el={class:"user-post"},tl={key:3,class:"ft-dept-empl__body"},nl={class:"ft-dept-empl__list"},ol={key:0,class:"header"},ll={class:"label"},al=xo(()=>e.createElementVNode("span",{class:"line"},null,-1)),il={key:1,class:"ft-dept-empl__item"},rl={class:"ft-dept-empl__item-bd"},sl={class:"user-info"},cl={class:"user-name"},dl={class:"user-post"},pl={class:"index-nav"},ul={class:"index-nav-wrap"},fl={class:"letter-list"},ml=["onClick"],hl={class:"ft-dept-empl__right"},_l={class:"ft-dept-empl__header"},gl={class:"user-selects",wrap:"wrap"},yl={class:"dialog-footer"},be=te({name:"index",props:{modelValue:Array,title:{type:String,default:""},multipleLimit:{type:Number,default:0},showType:{type:Number,default:0},deptList:{type:Array,default:()=>[]},emplList:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},placeholder:{type:String,default(){return"\u8BF7\u9009\u62E9"}}},emits:["change"],setup(t,{emit:n}){const o=t,a=e.ref(!1),i=e.ref(!1),d=e.ref(""),c=e.ref([]),p=e.ref([]),r=e.ref([]),m=e.ref([]),y=e.ref([]),l=e.ref(!1),V=e.ref(!1),g=e.reactive(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"]),D=e.ref(null),u=e.ref([]),A=e.ref([]),{ctx:U}=e.getCurrentInstance();function x(){a.value=!0,P()}function O(){a.value=!1,F()}function F(){y.value=X(m.value),m.value.length>0?(A.value=m.value.map(k=>k.id),n("change",A.value)):n("change",[])}const R=e.computed(()=>o.showType==2?o.deptList:o.showType==1?o.emplList:o.emplList.concat(o.deptList)),f=e.computed(()=>o.multipleLimit>0&&m.value.length>=o.multipleLimit);e.onMounted(()=>{o.showType==2?(l.value=!0,V.value=!0):V.value=!1,(!Pe(o.modelValue)||!se(o.modelValue))&&R.value.length>0&&(o.modelValue.forEach(k=>{m.value.push(Be(k,"id","children",R.value))}),F())});function b(k){c.value=[],r.value&&r.value.length&&(c.value=r.value.filter($=>ee.default.match($.realname,k)))}function B(k={},$=!1){if(JSON.stringify(k)=="{}"){m.value=[],r.value.forEach(S=>{S.isCheck=!1});return}if($)for(let S=0;S<r.value.length;S++){const E=r.value[S];k.id==E.id?E.isCheck=!0:E.isCheck=!1}else{const S=C(m.value,k,"id");S>=0&&m.value.splice(S,1);for(let E=0;E<r.value.length;E++){const T=r.value[E];if(k.id==T.id){T.isCheck=!1;break}}}}function v(k){k==2?(V.value=!0,i.value=!0,l.value=!0,P(!0)):(V.value=!1,i.value=!1,l.value=!1,P())}async function P(k=!1,$={}){let S=X(o.deptList),E=X(o.emplList);if(S.length===0){const{data:T}=await Z.post("admin/dept/getTree");S=T||[]}if(E.length===0){const{data:T}=await Z.post("admin/empl/getList",{types:"all"});E=T.list||[]}if(S.forEach(T=>{T.userType="dept"}),k)r.value=[],JSON.stringify($)=="{}"?(E=[],S[0].children.length>0&&(p.value=[{label:L("common.all"),deptList:S,emplList:E}])):(E=w($.id,E),console.log(E,"users"),S=$.children||[],S.forEach(T=>{T.userType="dept",E.length===0&&(T.disabled=!0)}),p.value.push({label:$.name,deptList:S,emplList:E}));else{let T=[];E.forEach(h=>{h.height=42,h.pinyin=g.filter(H=>ee.default.match(h.realname.substr(0,1),H))[0],h.pinyin?(T[h.pinyin]=T[h.pinyin]||[],T[h.pinyin].push(h)):(T["#"]=T["#"]||[],T["#"].push(h))}),E=[];let Y=0;g.forEach(h=>{if(T[h]){Y++,E.push({id:h,types:"letter",height:21});for(let q=0;q<T[h].length;q++)E.push(T[h][q]),Y++;const H=Y-T[h].length;u.value.push({id:h,count:H,current:H===0})}else u.value.push({id:h,count:-1,current:!1})})}r.value=S.concat(E),m.value.length>0&&r.value.forEach(T=>{m.value.forEach(Y=>{T.id==Y.id&&(T.isCheck=!0)})})}function M(k,$){console.log("selectUsers",k),k?m.value.push($):I($)}function I(k={},$=!1){if(JSON.stringify(k)=="{}"){m.value=[],r.value.forEach(S=>{S.isCheck=!1});return}if($)for(let S=0;S<r.value.length;S++){const E=r.value[S];k.id==E.id?E.isCheck=!0:E.isCheck=!1}else{const S=C(m.value,k,"id");S>=0&&m.value.splice(S,1);for(let E=0;E<r.value.length;E++){const T=r.value[E];if(k.id==T.id){T.isCheck=!1;break}}}}function w(k,$){let S=[];if(k)for(let E=0;E<$.length;E++)$[E].deptId===k&&S.push($[E]);return S}function N(k){I(k),F()}function j(k,$){$+1<=p.value.length-1&&p.value.splice($+1,p.value.length-1);const S=k.deptList,E=k.emplList;r.value=S.concat(E)}function C(k,$,S){for(let E=0;E<k.length;E++)if(k[E][S]==$[S])return E;return-1}function z(){l.value=!l.value,r.value=[],l.value?P(!0):P()}function W(k,$){k!==-1&&(U.$refs.vlist.scrollToItem(k),u.value.forEach(S=>{S.current=!1,S.id===$&&(S.current=!0)}))}return(k,$)=>{const S=e.resolveComponent("el-tag"),E=e.resolveComponent("el-icon"),T=e.resolveComponent("el-input"),Y=e.resolveComponent("el-checkbox"),h=e.resolveComponent("el-avatar"),H=e.resolveComponent("el-button"),q=e.resolveComponent("el-breadcrumb-item"),bl=e.resolveComponent("el-breadcrumb"),kl=e.resolveComponent("el-scrollbar"),Vl=e.resolveComponent("el-dialog");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"ft-select-input el-select",onClick:x},[e.createElementVNode("div",$o,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,(_,K)=>(e.openBlock(),e.createBlock(S,{key:K,closable:!t.disabled,type:"info",onClose:J=>N(_)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.realname||_.name),1)]),_:2},1032,["closable","onClose"]))),128))],512),e.createVNode(T,{placeholder:"\u8BF7\u8F93\u5165"},{suffix:e.withCtx(()=>[e.createVNode(E,{class:"el-input__icon"},{default:e.withCtx(()=>[m.value.length>t.multipleLimit?(e.openBlock(),e.createBlock(e.unref(Ot),{key:0})):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:1})]),_:1})]),e.createVNode(Vl,{modelValue:a.value,"onUpdate:modelValue":$[5]||($[5]=_=>a.value=_),"append-to-body":!0,"close-on-click-modal":!1,title:t.title,"show-close":!1,width:"700px"},{footer:e.withCtx(()=>[e.createElementVNode("span",yl,[e.createVNode(H,{onClick:$[4]||($[4]=_=>a.value=!1)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.cancel")),1)]),_:1}),e.createVNode(H,{onClick:O,type:"primary"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.confirm")),1)]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("div",Do,[e.createElementVNode("div",Lo,[t.showType<=1?(e.openBlock(),e.createElementBlock("div",Ao,[e.createVNode(T,{modelValue:d.value,"onUpdate:modelValue":$[0]||($[0]=_=>d.value=_),placeholder:e.unref(L)("deptEmpl.enterKeywords"),onInput:b},{suffix:e.withCtx(()=>[e.createVNode(E,{class:"el-input__icon",onClick:b},{default:e.withCtx(()=>[e.createVNode(e.unref(ue))]),_:1})]),_:1},8,["modelValue","placeholder"])])):e.createCommentVNode("",!0),d.value&&t.showType<=1?(e.openBlock(),e.createElementBlock("div",Io,[e.createElementVNode("div",Mo,e.toDisplayString(e.unref(L)("deptEmpl.searchResults"))+" : "+e.toDisplayString(d.value),1),e.createElementVNode("div",To,[e.createElementVNode("div",Fo,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,(_,K)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-dept-empl__item",key:K},[e.createVNode(Y,{modelValue:_.isCheck,"onUpdate:modelValue":J=>_.isCheck=J,disabled:e.unref(f)&&!_.isCheck,onChange:J=>M(J,_)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]),e.createElementVNode("div",zo,[e.createVNode(h,{class:"user-img",size:30,src:_.img||_.thumbImg},null,8,["src"]),e.createElementVNode("div",Uo,[e.createElementVNode("div",Oo,e.toDisplayString(_.realname),1),e.createElementVNode("div",vo,e.toDisplayString(_.post),1)])])]))),128))])])])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[t.showType===0?(e.openBlock(),e.createElementBlock("div",Po,[e.createVNode(H,{type:i.value?"":"info",onClick:$[1]||($[1]=_=>v(1))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("deptEmpl.emplName")),1)]),_:1},8,["type"]),e.createVNode(H,{type:i.value?"info":"",onClick:$[2]||($[2]=_=>v(2))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("deptEmpl.deptName")),1)]),_:1},8,["type"])])):e.createCommentVNode("",!0),t.showType<=1&&!i.value?(e.openBlock(),e.createElementBlock("div",Ro,[e.createElementVNode("div",{class:"item-cell__hd",onClick:z},e.toDisplayString(l.value===!1?e.unref(L)("deptEmpl.deptView"):e.unref(L)("deptEmpl.letterView")),1),e.createVNode(E,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})])):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createElementBlock("div",jo,[e.createElementVNode("div",Ho,[e.createVNode(bl,{"separator-icon":e.unref(G)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(_,K)=>(e.openBlock(),e.createBlock(q,{key:K},{default:e.withCtx(()=>[e.createElementVNode("a",{href:"javascript:;",onClick:J=>j(_,K)},e.toDisplayString(_.label),9,Jo)]),_:2},1024))),128))]),_:1},8,["separator-icon"])]),e.createElementVNode("div",Ko,[e.createVNode(kl,{height:"200px"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(_,K)=>(e.openBlock(),e.createElementBlock("div",{class:"ft-dept-empl__item",key:K},[_.userType=="dept"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[V.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(Y,{modelValue:_.isCheck,"onUpdate:modelValue":J=>_.isCheck=J,disabled:e.unref(f)&&!_.isCheck,onChange:J=>M(J,_)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]),_.isCheck||!_.children?(e.openBlock(),e.createElementBlock("div",Wo,e.toDisplayString(_.name),1)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dept-name text-one-line",onClick:J=>P(!0,_)},e.toDisplayString(_.name),9,Yo),e.createVNode(E,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(Y,{disabled:!0,indeterminate:""}),_.children?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",{class:"dept-name text-one-line",onClick:J=>P(!0,_)},e.toDisplayString(_.name),9,qo),e.createVNode(E,null,{default:e.withCtx(()=>[e.createVNode(e.unref(G))]),_:1})],64)):(e.openBlock(),e.createElementBlock("div",Go,e.toDisplayString(_.name),1))],64))],64)):t.showType!==2&&!i.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(Y,{modelValue:_.isCheck,"onUpdate:modelValue":J=>_.isCheck=J,disabled:e.unref(f)&&!_.isCheck,onChange:J=>M(J,_)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]),e.createElementVNode("div",Zo,[e.createVNode(h,{class:"user-img",size:30,src:_.img||_.thumbImg},null,8,["src"]),e.createElementVNode("div",Xo,[e.createElementVNode("div",Qo,e.toDisplayString(_.realname),1),e.createElementVNode("div",el,e.toDisplayString(_.post),1)])])],64)):e.createCommentVNode("",!0)]))),128))]),_:1})])])):(e.openBlock(),e.createElementBlock("div",tl,[e.createElementVNode("div",nl,[e.createVNode(e.unref(re),{ref_key:"vlist",ref:D,class:"letter-block",items:r.value,"key-field":"id","size-field":"height"},{default:e.withCtx(({item:_})=>[_.types==="letter"?(e.openBlock(),e.createElementBlock("div",ol,[e.createElementVNode("span",ll,e.toDisplayString(_.id),1),al])):(e.openBlock(),e.createElementBlock("div",il,[e.createVNode(Y,{modelValue:_.isCheck,"onUpdate:modelValue":K=>_.isCheck=K,disabled:e.unref(f)&&!_.isCheck,onChange:K=>M(K,_)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]),e.createElementVNode("div",rl,[e.createVNode(h,{class:"user-img",size:30,src:_.img||_.thumbImg},null,8,["src"]),e.createElementVNode("div",sl,[e.createElementVNode("div",cl,e.toDisplayString(_.realname),1),e.createElementVNode("div",dl,e.toDisplayString(_.post),1)])])]))]),_:1},8,["items"]),e.createElementVNode("div",pl,[e.createElementVNode("div",ul,[e.createElementVNode("ul",fl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(_,K)=>(e.openBlock(),e.createElementBlock("li",{key:K,class:e.normalizeClass({"is-current":_.current,"is-invalid":_.count===-1&&!_.current}),onClick:J=>W(_.count,_.id)},e.toDisplayString(_.id),11,ml))),128))])])])])]))],64))]),e.createElementVNode("div",hl,[e.createElementVNode("div",_l,[e.createTextVNode(e.toDisplayString(t.multipleLimit?e.unref(L)("deptEmpl.multipleLimit")+" "+t.multipleLimit:"")+" "+e.toDisplayString(e.unref(L)("common.selected"))+" "+e.toDisplayString(m.value.length)+" ",1),e.createVNode(H,{text:"",onClick:$[3]||($[3]=_=>B({})),disabled:!m.value.length},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(L)("common.clear")),1)]),_:1},8,["disabled"])]),e.createElementVNode("div",gl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(_,K)=>(e.openBlock(),e.createElementBlock("span",{key:K,class:"user-item text-one-line"},[e.createTextVNode(e.toDisplayString(_.name||_.realname)+" ",1),e.createVNode(E,{onClick:e.withModifiers(J=>I(_),["stop"])},{default:e.withCtx(()=>[e.createVNode(e.unref(pe))]),_:2},1032,["onClick"])]))),128))])])])]),_:1},8,["modelValue","title"])],64)}}},[["__scopeId","data-v-480523e0"]]);return be.install=function(t){t.component("FtSelectUser",be)},{install:t=>{t.use(ce),t.use(de),t.use(fe),t.use(ye),t.use(be)}}});
